<app-navbar [user]="user"></app-navbar>
<main>

    <section class="section section-shaped section-lg">
      <div class="shape shape-style-1 bg-gradient-default">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
       
      </div>
      <div class="container pt-lg-md">
        
        <div class="row justify-content-center">
          
          <div class="col-lg-12">
            <div class="card bg-secondary shadow border-0">
              <!--div class="card-header bg-white pb-5">
              </div-->
              <div class="container" *ngFor="let encu of encuestas">
                <h1>Reseña de {{encu.profesional}}</h1>
                <p>Id: {{encu.id}}</p>
                <p>Puntuación: {{encu.puntuacion}}</p>
                <p>Comentario: {{encu.comentario}}</p>
                <button class="form-control btn btn-primary" type="button" (click)="comentar(encu)">Responder</button>
            </div>
              &nbsp;
            </div>
          </div>
        </div>
      </div>
      <!--ENCUESTA***************************************************************** -->
      <div class="container" *ngIf="encuestar">
        <div class="container h-100">
            <div class="row justify-content-center align-items-center">
              <div class="col-6">
                <div class="card" [ngClass]="{'border-danger': error}">
                  <div class="card-body">
                    <h5 class="card-title">Encuesta</h5>
                    <form [formGroup]="form">
                      <div class="form-group">
                          <label for="user" class="col-6">Califique al Profesional</label>
                          <ngb-rating [(rate)]="selectedProfesional" class="col-6">
                              <ng-template let-fill="fill" let-index="index">
                                <span class="star" [class.filled]="fill === 100">&#9733;</span>
                              </ng-template>
                            </ngb-rating>
                      </div>
                      <div class="form-group">
                        <label for="coci" class="col-6">Por favor deje su comentario</label>
                        <textarea formControlName="comentario" class="col-6 span6" rows="3" placeholder="Sugerencias?" required></textarea>
                      </div>
                     <button class="col-6 btn btn-primary" (click)="Submit()">Enviar</button>
                     <button class="col-6 btn btn-secondary" (click)="Cancel()">Cancelar</button>
                    </form>
                    </div>
                        <div *ngIf="error" class="card-footer">
                          <small class="text-danger font-weight-bold"><i class="fa fa-times"></i> {{errorMessage}} </small>
                        </div>
                </div>
              </div>
            </div>
          </div>
      </div>
      
    </section>
    
  </main>
  
  